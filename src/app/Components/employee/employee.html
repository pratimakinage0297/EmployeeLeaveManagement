<div class="container mt-4">

  <h4 class="mb-3">Employee List</h4>
  <button class="btn btn-primary" (click)="openModal()">Add Employee</button>



  <table class="table table-bordered table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Employee ID</th>
        <th>Name</th>
        <th>Department</th>
        <th>Contact No</th>
        <th>Email</th>
        <th>Action</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let emp of allEmployee; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ emp.employeeId }}</td>
        <td>{{ emp.employeeName }}</td>
        <td>{{ emp.deptName }}</td>
        <td>{{ emp.contactNo }}</td>
        <td>{{ emp.emailId }}</td>
        <button class="btn btn-sm btn-warning">Edit</button>
        <button class="btn btn-sm btn-danger">Delete</button>
      </tr>

      <!-- Empty State -->
      <tr *ngIf="allEmployee.length === 0">
        <td colspan="7" class="text-center text-muted">
          No employee data available
        </td>
      </tr>
    </tbody>

  </table>

  <app-add-employee-modal [isOpen]="showAddEmployeeModal" (closeModal)="CloseModal()">



    <!-- Modal Content -->
    <form #AddEmpForm="ngForm" (ngSubmit)="onSubmit(AddEmpForm)">
      <div class="mb-3">
        <label class="form-label">Employee Name</label>
        <input type="text" class="form-control" name="employeeName" [(ngModel)]="employeeObj.employeeName">
      </div>

      <div class="mb-3">
        <label class="form-label">Contact No.</label>
        <input type="text" class="form-control" name="contactNo" [(ngModel)]="employeeObj.contactNo">
      </div>

      <div class="mb-3">
        <label class="form-label">Email Id</label>
        <input type="email" class="form-control" name="emailId" [(ngModel)]="employeeObj.emailId">
      </div>

      <div class="mb-3">
        <label class="form-label">Department</label>
        <select class="form-select" id="deptId" name="deptName" [(ngModel)]="employeeObj.deptName">
          <option value="">Select Department</option>
          <option *ngFor="let department of AllDepartment">
            <!-- [value]="department.deptId"> -->
            {{department.deptName}}
          </option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Gender</label>
        <select class="form-select" id="deptId" name="gender" [(ngModel)]="employeeObj.gender">
          <option>Select Gender</option>
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" name="password" [(ngModel)]="employeeObj.password">
      </div>

      <div class="mb-3">
        <label class="form-label">Role</label>
        <select class="form-select" id="roleId" name="role" [(ngModel)]="employeeObj.role">
          <option value="">Select Role</option>
          <option *ngFor="let r of roleList$ | async">
            {{r}}
          </option>
        </select>
      </div>

      <button class="btn btn-success">Save</button>
    </form>



  </app-add-employee-modal>
</div>
